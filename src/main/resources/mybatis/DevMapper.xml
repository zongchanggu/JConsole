<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zjut.mapping.DevMapper">
	<resultMap type="com.zjut.pojo.Device" id="DevResultMap">
		<id column="DevID" property="DevID" />
		<result column="DevName" property="DevName" />
		<result column="DeployTime" property="DeployTime" />
		<result column="Type" property="Type" />
		<result column="Status" property="Status" />
		<result column="AdTotalNum" property="AdTotalNum" />
		<result column="FaultNum" property="FaultNum" />
		<result column="CurrentTime" property="CurrentTime" />
		<result column="AddressXY" property="AddressXY" />
		<result column="Location" property="Location" />
		<result column="Province" property="Province" />
		<result column="City" property="City" />
		<result column="Street" property="Street" />
		<result column="District" property="District"/>
	</resultMap>
	<select id="getAdByDevID" resultMap="com.zjut.mapping.AdMapper.AdResultMap"
		parameterType="java.lang.Integer">
		select * from advertise where AdID in
		(select AdID from
		device where DevId = #{dev_id})
	</select>

	<select id="getDevIds" resultType="java.lang.Integer">
		select DevID from device
	</select>
	
	<select id="getDevInfo" resultMap="DevResultMap">
		select * from device
	</select>
</mapper>